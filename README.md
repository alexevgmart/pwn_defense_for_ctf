## Защита от атак на бинарные сервисы на CTF

Изначально задуманная программа переросла в систему мониторинга для использования в attack-defense ctf.

---

Добавлен модуль для ядра Линукс, который будет перехватывать системные вызовы sys_read и sys_write, чтобы нельзя было писать или читать non printable символы (чтобы не переписывать сервис на питон).
Для запуска [kernel_module](https://github.com/alexevgmart/pwn_defense_for_ctf/tree/main/kernel_module) необходимо выполнить:
```bash
sudo apt install build-essential linux-headers-$(uname -r) kmod
make
sudo insmod read_and_write.ko target=имена_файлов_через_запятую monitor=имя_файла_в_который_скомпилировали_user.c
```
Его нужно запускать на одном хосте со всеми сервисами, до хоста не должно быть доступа из общей сетки <br>
Его использование теперь не является необходимым, но его поддержка осталась

---

Далее запускаем программу которая будет передавать данные на сервер:
```bash
./user server_ip server_port
```
Нужно запускать там же где и модуль ядра

---

Веб интерфейс собирается через
```bash
docker-compose up -d --build
```
Нужно запускать на отдельном хосте, чтобы не было доступа из общей сетки

---

Для сервисов работающих по HTTP была написана небольшая прокси:
```bash
go build .
./pseudo_http_proxy <web_app_ip> <web_app_port>
```
Нужно запускать на хосте который находится в общей сетке<br>
Настраивать перенаправление трафика нужно в services.json в [server/web_app](https://github.com/alexevgmart/pwn_defense_for_ctf/tree/main/server/web_app), там надо будет указать ip и порт хоста на котором находится настоящий сервис и порт на текущем хосте с прокси, на который будут приходить данные и затем направляться на хост с сервисами

---
